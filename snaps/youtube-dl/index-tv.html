<!doctype html>

<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Tutoriel | Introduction à Snapcraft - Etude de YouTube-downloader snap | by Winael @vinzjobard | Avril 2016</title>
    
    <meta name="description" content="Introduction à l'outils de création de snaps pour Ubuntu à travers de l'étude de l'exemple du snap YouTube-Downloader" />
    <meta name="author" content="Winael" />

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" media="all" href="css/ubuntu-styles.css"/>

    <link href="css/impress-demo.css" rel="stylesheet" />
    <link href="css/ubuntu-template-tv.css" rel="stylesheet" />
    <link href="css/youtube-dl-tv.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin">
    <link rel="shortcut icon" href="img/favicon.ico" />
    <link rel="apple-touch-icon" href="img/favicon.ico" />

</head>

<body class="impress-not-supported">

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div id="impress">

    <div id="title" class="step" data-x="0" data-y="0" data-z="0">
        <h1>
            Tutoriel :<br />
            Introduction à Snapcraft
        </h1>

        <div class="subtitle">
            - Epidode 1 : Les bases -
        </div>

        <div class="signature">
            <p>Winael <<a href="mailto:vinzjobard@ubuntu.com">vinzjobard@ubuntu.com</a>></p>
        </div>
    </div>

    <!-- PART 1 : Présentation -->

        <div id="presentation" class="step generic-slide" data-x="0" data-z="-0" data-rotate-y="180">
    
            <div class="titre-slide">
                <h2>Présentation</h2>
            </div>

            <div class="content">

                <div class="six-col">
                    <ul>
                        <li class="prez"><u>Prénom NOM :</u> <i>Vincent JOBARD</i></li>
                        <li class="prez"><u>Surnom :</u> <i>Winael</i></li>
                        <li class="prez"><u>Blog :</u> <i><a href="http://winael.github.io/">http://winael.github.io/</a></i></li>
                        <li class="prez"><u>Email :</u> <i><a href="mailto:vinzjobard@ubuntu.com">vinzjobard@ubuntu.com</a></i></li>
                        <li class="prez"><u>Wiki :</u> <i><a href="https://wiki.ubuntu.com/Winael">https://wiki.ubuntu.com/Winael</a></i></li>
                    </ul>
                </div>

                <div class="six-col last-col rs">
                    <ul>
                        <li class="rs"><img src="img/logo-fb.png" width="75px" /> <i><a href="https://www.facebook.com/vinzjobard">vinzjobard</a></i></li>
                        <li class="rs"><img src="img/google_plus_icon.png" width="75px" /> <i><a href="https://plus.google.com/+VincentJOBARD">+Vincent JOBARD</a></i></li>
                        <li class="rs"><img src="img/logo-twitter.png" width="75px" /> <i><a href="https://twitter.com/vinzjobard">@vinzjobard</a></i></li>
                        <li class="rs"><img src="img/logo-linkedin.png" width="75px" /> <i><a href="https://www.linkedin.com/in/vincent-jobard-26b046117">vincent-jobard-26b046117</a></i></li>
                        <li class="rs"><img src="img/logo-viadeo.png" width="75px" /> <i><a href="http://www.viadeo.com/p/0024iv3cy4nc1mt">Vincent JOBARD</a></i></li>
                    </ul>
                </div>
            </div>

        </div>

    <!-- PART 2 : Les snaps, qu'est-ce que c'est ? -->

        <div id="snapkeskecest" class="step title-part-slide" data-x="0" data-y="1200" data-z="0" data-rotate-y="180">
        
            <h2>Les snaps, qu'est-ce que c'est ?</h2>

        </div>

        <div id="snapkeskecest-origine-1" class="step generic-slide" data-x="0" data-y="1200" data-z="0" data-rotate-y="360">
            
            <div class="titre-slide">
                <h2>A l'origine...</h2>
            </div>

            <div class="content">

                <div class="six-col">
                    <img src="img/snappy.png" width="400px" />
                </div>
                
                <div class="six-col last-col">
                    <ul>
                        <li><span class="chevron">></span> Version 2.0 du paquet click développé pour l'univers mobile Ubuntu</li>
                        <li><span class="chevron">></span> Format de paquet conçu pour Snappy Ubuntu Core</li>
                        <li><span class="chevron">></span> D'abord sur le Cloud (décembre 2014)</li>
                        <li><span class="chevron">></span> Puis sur l'IoT (courant 2015)</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="snapkeskecest-origine-2" class="step generic-slide" data-x="0" data-y="1200" data-z="0" data-rotate-y="360">

            <div class="titre-slide">
                <h2>A l'origine...</h2>
            </div>

            <div class="content">
                
                <div class="six-col">
                    <img src="img/ubuconsummit_shuttle_keynote1.JPG" width="400px" class="box box-highlight" />
                </div>

                <div class="six-col last-col">
                    <ul>
                        <li><span class="chevron">></span> Mark Shuttleworth annonce l'arrivée des snaps sur les environnement classiques (Poste de travail, Server, ...) d'Ubuntu à partir de la 16.04 LTS</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="snapkeskecest-techniquement" class="step generic-slide" data-x="0" data-y="2400" data-z="0" data-rotate-y="360">

            <div class="titre-slide">
                <h2>Et techniquement ?</h2>
            </div>
            
            <div class="content">

                <p><strong>Tarball en Squashfs :</strong></p>
                <div class="six-col">
                    <img src="img/Pokeball.png" width="300px" />
                </div>
                <div class="six-col last-col">
                    <ul>
                        <li><span class="chevron">></span> Montée en lecture seule</li>
                        <li><span class="chevron">></span> Isolée dans un espace de nom au niveau du noyau</li>
                        <li><span class="chevron">></span> Processus filtrés avec Seccomp</li>
                        <li><span class="chevron">></span> Protégée par AppArmor</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="snapkeskecest-pourquoifaire" class="step generic-slide" data-x="0" data-y="3600" data-z="0" data-rotate-y="360">

            <div class="titre-slide">
                <h2>Mais pourquoi faire ?</h2>
            </div>
            
            <div class="content-simple">

                <div class="twelve-col last-col">
                    <p>Un paquet .snap pour le système Ubuntu Core contient toutes ses dépendances.</p>
                    <br />
                    <p><strong>Avantage :</strong> un développeur peut s'assurer qu'il n'y a pas de régressions déclenchées par des changements sur le système en dessous de son application.</p>
                    <br />
                    <p>Snapcraft permet de regrouper ces dépendances facilement en vous permettant de les spécifier comme "parties" dans le fichier snapcraft.yaml.</p>
                    </ul>
                </div>
            </div>
        </div>

    <!-- Part 3 : Qu'est-ce que Snapcraft ? -->

        <div id="snapcraftkeskecest" class="step title-part-slide" data-x="0" data-y="3600" data-z="0" data-rotate-y="180">
        
            <h2>Snapcraft</h2>

        </div>

        <div id="snapcraft-part" class="step generic-slide" data-x="0" data-y="4800" data-z="0" data-rotate-y="180">
            
            <div class="titre-slide">
                <h2>Les parties dans Snapcraft</h2>
            </div>

            <div class="content-simple">
                
                <div class="twelve-col last-col">
                    <p>
                        Les <em>« parties »</em> constituent un aspect central des recettes Snapcraft. Une partie est un morceau de logiciel ou de données requis pour faire fonctionner le paquet snap ou construire une autre partie. Chaque partie est gérée par un plugin Snapcraft, et les parties sont généralement indépendantes les unes des autres.
                    </p>
                </div>
            </div>
        </div>

        <div id="snapcraft-plugins" class="step generic-slide" data-x="0" data-y="6000" data-z="0" data-rotate-y="180">
            
            <div class="titre-slide">
                <h2>Les plugins Snapcraft</h2>
            </div>

            <div class="content-simple">
                
                <div class="twelve-col last-col">
                    <p>
                        Chaque <em>« partie »</em> a un plugin qui lui est associé fournissanr le mécanisme permettant de la manipuler. Il existe une variété de plugins déjà inclus pour des projets basés sur Python 2 et 3, Go, Java, Cmake ou autotools. (Plus de détails prochainement)
                    </p>
                </div>
            </div>
        </div>

        <div id="snap-interface" class="step generic-slide" data-x="0" data-y="7200" data-z="0" data-rotate-y="180">
            
            <div class="titre-slide">
                <h2>L'interface des snaps</h2>
            </div>

            <div class="content-simple">
                
                <div class="twelve-col last-col">
                    <p>
                        Une interface de snap donne à un snap la possibilité d'utiliser des ressources fournies par une autre snap, incluant la snap du système d'exploitation (Ubuntu-core étant lui même un snap).
                    </p>
                </div>
            </div>
        </div>

        <div id="snapcraft-workflow-1" class="step generic-slide" data-x="0" data-y="8400" data-z="0" data-rotate-y="180">
            
            <div class="titre-slide">
                <h2>Le workflow de Snapcraft</h2>
            </div>

            <div class="content">
              
                <div class="twelve-col last-col">
                    <ul>
                        <li>
                            <p><span class="chevron">></span> <strong>Récupération des sources (<em>« Pull »</em>)</strong></p>
                            <div class="licontent">
                                <p>Première étape. Récupération du contenu depuis un dépôt git ou téléchargement de binaire.</p>
                                <p>Le contenu de chaque partie sera stocké dans le répertoire <code>parts/&lt;part-name&gt;/src</code></p>
                            </div>
                        </li>
                        <li>
                            <p><span class="chevron">></span> <strong>Construction des parties (<em>« Build »</em>)</strong></p>
                            <div class="licontent">
                                <p>Cette étape fait suite à l'étape de <em>« Récupération des sources »</em>. Chaque partie est construite dans son répertoire <code>parts/&lt;part-name&gt;/build</code> et s'installe dans son répertoire <code>parts/&lt;part-name&gt;/install</code></p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="snapcraft-workflow-2" class="step generic-slide" data-x="0" data-y="8400" data-z="0" data-rotate-y="180">
            
            <div class="titre-slide">
                <h2>Le workflow de Snapcraft</h2>
            </div>

            <div class="content">
              
                <div class="twelve-col last-col">
                    <ul>
                        <li>
                            <p><span class="chevron">></span> <strong>Etape de transit (<em>« Stage »</em>)</strong></p>
                            <div class="licontent">
                                <p>Après l'étape de construction de chaque partie, les partie sont combinées en une seule arborescence de répertoires que l'on appelle «zone de transit» qui se trouve dans le répertoire <code>./stage</code>.</p>
                                <p>C'est la zone où toutes les parties peuvent partager des actifs tels que des librairies.</p>
                            </div>
                        </li>
                        <li>
                            <p><span class="chevron">></span> <strong>Dépouillement du snap (<em>« Strip »</em>)</strong></p>
                            <div class="licontent">
                                <p>L'étape de dépuillement déplace les données dans le répertoire <code>./snap</code> qui ne contient que le contenu qui sera mis dans le paquet sanp final, contrairement à la zone de transit qui peut inclure des fichiers de développement non destinés au paquet.</p>
                                <p>Les informations de métadonnées Snappy de votre projet seront aussi placées dans <code>./snap/meta</code>.</p>
                                <p>Ce répertoire <code>./snap</code> est utile pour inspecter ce qui se passe dans votre application snap et de faire des post-traitements finaux sur la sortie du snapcraft.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>


        <div id="snapcraft-workflow-3" class="step generic-slide" data-x="0" data-y="8400" data-z="0" data-rotate-y="180">
            
            <div class="titre-slide">
                <h2>Le workflow de Snapcraft</h2>
            </div>

            <div class="content">
              
                <div class="twelve-col last-col">
                    <ul>

                        <li>
                            <p><span class="chevron">></span> <strong>Construction du paquet snap (<em>« Snap »</em>)</strong></p>
                            <div class="licontent">
                                <p>La dernière étape construit le paquet snap à l'extérieur du répertoire du snap.</p>
                            </div>
                        </li>
                    </ul>
                    <p>Chaque étape du workflow peut être simulée en la précisant en argument de Snapcraft :</p>
                    <pre>
    $ snapcraft pull
    $ snapcraft build
    $ snapcraft stage
    $ snapcraft strip
    $ snapcraft snap
                    </pre>
                </div>
            </div>
        </div>

        <div id="prochain-episode" class="step next-episode" data-x="0" data-y="0" data-z="0" data-rotate-y="360" data-rotate-x="360" data-rotate-z="360">

            <h1>Prochain episode :</h1>

            <div class="subtitle">
                <p><strong>Epidode 2 :</strong></p>
                <p>- Etude du fichier <code>snapcraft.yaml</code> du snap <code>youtube-downloader</code> -</p>
            </div>
            
        </div>

        <div id="abientot" class="step next-episode" data-x="0" data-y="0" data-z="0" data-rotate-y="360" data-rotate-x="360" data-rotate-z="360">

            <h1>A bientôt !</h1>
            
        </div>


</div>

<div class="hint">
    <p>Use a spacebar or arrow keys to navigate</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>

<script src="js/impress.js"></script>
<script>impress().init();</script>

</body>
</html>


